# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç Admin Panel

## –®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ë–î (5 –º–∏–Ω—É—Ç)

### 1.1 –û—Ç–∫—Ä–æ–π—Ç–µ Supabase Dashboard

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –≤–∞—à –ø—Ä–æ–µ–∫—Ç: https://supabase.com/dashboard

### 1.2 –í—ã–ø–æ–ª–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏

–í —Ä–∞–∑–¥–µ–ª–µ **SQL Editor** –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–æ –ø–æ—Ä—è–¥–∫—É:

```sql
-- 1. –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã –∞–¥–º–∏–Ω–∫–∏
-- –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ scripts/005_create_admin_tables.sql

-- 2. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
-- –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ scripts/006_admin_functions.sql
```

### 1.3 –ù–∞–∑–Ω–∞—á—å—Ç–µ —Å–µ–±–µ —Ä–æ–ª—å Owner

```sql
-- –ó–∞–º–µ–Ω–∏—Ç–µ YOUR_USER_UUID –Ω–∞ –≤–∞—à ID –∏–∑ —Ç–∞–±–ª–∏—Ü—ã auth.users
INSERT INTO admin_roles (user_id, role) 
VALUES ('YOUR_USER_UUID', 'owner');
```

**–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å —Å–≤–æ–π UUID:**

```sql
-- –í—ã–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç–æ—Ç –∑–∞–ø—Ä–æ—Å –ø–æ—Å–ª–µ –ª–æ–≥–∏–Ω–∞
SELECT id, email FROM auth.users WHERE email = '–≤–∞—à_email@example.com';
```

---

## –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ (2 –º–∏–Ω—É—Ç—ã)

### 2.1 –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–∞–±–ª–∏—Ü—ã

```sql
-- –î–æ–ª–∂–Ω—ã —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –≤—Å–µ —ç—Ç–∏ —Ç–∞–±–ª–∏—Ü—ã:
SELECT table_name 
FROM information_schema.tables 
WHERE table_schema = 'public' 
AND table_name IN (
  'admin_roles',
  'collections', 
  'cards', 
  'shards',
  'spawn_points',
  'drops',
  'user_shards',
  'user_cards',
  'listings',
  'settings',
  'web3_config',
  'audit_log'
);
```

### 2.2 –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

```sql
SELECT * FROM settings;
-- –î–æ–ª–∂–Ω—ã –±—ã—Ç—å: radius_m, hold_seconds, platform_fee_pct, min_price_floor
```

---

## –®–∞–≥ 3: –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (1 –º–∏–Ω—É—Ç–∞)

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã)
pnpm install

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ dev —Å–µ—Ä–≤–µ—Ä
pnpm dev
```

–û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å: http://localhost:3000/admin-panel

---

## –®–∞–≥ 4: –°–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–≤—É—é –∫–æ–ª–ª–µ–∫—Ü–∏—é (3 –º–∏–Ω—É—Ç—ã)

### 4.1 –ß–µ—Ä–µ–∑ UI

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∫–ª–∞–¥–∫—É **Collections**
2. –ù–∞–∂–º–∏—Ç–µ "–°–æ–∑–¥–∞—Ç—å –∫–æ–ª–ª–µ–∫—Ü–∏—é"
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É:
   - **–ù–∞–∑–≤–∞–Ω–∏–µ**: Urban Relics
   - **–û–ø–∏—Å–∞–Ω–∏–µ**: –ì–æ—Ä–æ–¥—Å–∫–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã
   - **–°–µ—Ç—å**: ethereum
   - **–†–æ—è–ª—Ç–∏**: 5
4. –ù–∞–∂–º–∏—Ç–µ "–°–æ–∑–¥–∞—Ç—å"

### 4.2 –ò–ª–∏ —á–µ—Ä–µ–∑ API

```bash
curl -X POST http://localhost:3000/api/admin/collections \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Urban Relics",
    "description": "–ì–æ—Ä–æ–¥—Å–∫–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã",
    "chain": "ethereum",
    "royalty_pct": 5
  }'
```

---

## –®–∞–≥ 5: –°–æ–∑–¥–∞–π—Ç–µ –∫–∞—Ä—Ç–æ—á–∫—É (2 –º–∏–Ω—É—Ç—ã)

### 5.1 –ß–µ—Ä–µ–∑ UI

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∫–ª–∞–¥–∫—É **Cards**
2. –ù–∞–∂–º–∏—Ç–µ "–°–æ–∑–¥–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É"
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ:
   - **–ö–æ–ª–ª–µ–∫—Ü–∏—è**: Urban Relics
   - **–ù–∞–∑–≤–∞–Ω–∏–µ**: –°—Ç–∞—Ä–∏–Ω–Ω—ã–π –∫–æ–º–ø–∞—Å
   - **–õ–∏–º–∏—Ç —Ç–∏—Ä–∞–∂–∞**: 1000
   - **–†–µ–¥–∫–æ—Å—Ç—å**: rare
4. –ù–∞–∂–º–∏—Ç–µ "–°–æ–∑–¥–∞—Ç—å"

‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç—Å—è 3 –æ—Å–∫–æ–ª–∫–∞!**

---

## –®–∞–≥ 6: –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—Å–∫–æ–ª–∫–æ–≤ (5 –º–∏–Ω—É—Ç)

### 6.1 –ß–µ—Ä–µ–∑ UI

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∫–ª–∞–¥–∫—É **Shards**
2. –î–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–∑ 3 –æ—Å–∫–æ–ª–∫–æ–≤:
   - –î–æ–±–∞–≤—å—Ç–µ URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
   - –î–æ–±–∞–≤—å—Ç–µ URL –∏–∫–æ–Ω–∫–∏ –¥–ª—è –∫–∞—Ä—Ç—ã
3. –ù–∞–∂–º–∏—Ç–µ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"

### 6.2 –ü—Ä–∏–º–µ—Ä—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –¥–ª—è —Ç–µ—Å—Ç–∞

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ placeholder –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:

```
https://picsum.photos/400/600?random=1
https://picsum.photos/400/600?random=2
https://picsum.photos/400/600?random=3
```

–ò–∫–æ–Ω–∫–∏:
```
https://picsum.photos/64/64?random=1
https://picsum.photos/64/64?random=2
https://picsum.photos/64/64?random=3
```

---

## –®–∞–≥ 7: –î–æ–±–∞–≤—å—Ç–µ —Ç–æ—á–∫–∏ —Å–ø–∞–≤–Ω–∞ (3 –º–∏–Ω—É—Ç—ã)

### 7.1 –û–¥–Ω–∞ —Ç–æ—á–∫–∞ —á–µ—Ä–µ–∑ UI

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∫–ª–∞–¥–∫—É **Spawn Points**
2. –ù–∞–∂–º–∏—Ç–µ "–î–æ–±–∞–≤–∏—Ç—å —Ç–æ—á–∫—É"
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ:
   - **–û—Å–∫–æ–ª–æ–∫**: –ö–æ–º–ø–∞—Å - –û—Å–∫–æ–ª–æ–∫ 1
   - **–®–∏—Ä–æ—Ç–∞**: 55.7558
   - **–î–æ–ª–≥–æ—Ç–∞**: 37.6173
   - **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ**: 10
4. –ù–∞–∂–º–∏—Ç–µ "–°–æ–∑–¥–∞—Ç—å"

### 7.2 –ú–∞—Å—Å–æ–≤—ã–π –∏–º–ø–æ—Ä—Ç CSV

```csv
lat,lng,count,from,to
55.7558,37.6173,10,2025-01-01,2025-12-31
55.7600,37.6200,5,2025-01-01,2025-12-31
55.7550,37.6150,3,2025-01-01,2025-12-31
```

1. –ù–∞–∂–º–∏—Ç–µ "–ò–º–ø–æ—Ä—Ç CSV"
2. –í—ã–±–µ—Ä–∏—Ç–µ –æ—Å–∫–æ–ª–æ–∫
3. –í—Å—Ç–∞–≤—å—Ç–µ –¥–∞–Ω–Ω—ã–µ
4. –ù–∞–∂–º–∏—Ç–µ "–ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å"

---

## –®–∞–≥ 8: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–∞—à–±–æ—Ä–¥ (1 –º–∏–Ω—É—Ç–∞)

–û—Ç–∫—Ä–æ–π—Ç–µ –≤–∫–ª–∞–¥–∫—É **Dashboard** –∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:

- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ 1 –∫–æ–ª–ª–µ–∫—Ü–∏—è
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ 1 –∫–∞—Ä—Ç–æ—á–∫–∞
- ‚úÖ –°–æ–∑–¥–∞–Ω–æ 3 –æ—Å–∫–æ–ª–∫–∞
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã —Ç–æ—á–∫–∏ —Å–ø–∞–≤–Ω–∞
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–í–∞—à–∞ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

### –ß—Ç–æ –¥–∞–ª—å—à–µ?

1. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ Web3** (–≤–∫–ª–∞–¥–∫–∞ Web3)
   - –î–æ–±–∞–≤—å—Ç–µ –∞–¥—Ä–µ—Å –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é –º–∏–Ω—Ç–∞
   - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –º–∏–Ω—Ç

2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å** (–≤–∫–ª–∞–¥–∫–∞ Marketplace)
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∫–æ–º–∏—Å—Å–∏—é –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é —Ü–µ–Ω—É

3. **–°–æ–∑–¥–∞–π—Ç–µ –¥—Ä–æ–ø** (–≤–∫–ª–∞–¥–∫–∞ Drops)
   - –í—ã–±–µ—Ä–∏—Ç–µ –Ω–∞–±–æ—Ä —Ç–æ—á–µ–∫
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–∏–æ–¥
   - –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –¥—Ä–æ–ø

---

## üêõ –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –û—à–∏–±–∫–∞ "Unauthorized"

**–†–µ—à–µ–Ω–∏–µ:**
```sql
-- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤–∞—à –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ admin_roles
SELECT * FROM admin_roles WHERE user_id = '–≤–∞—à_uuid';

-- –ï—Å–ª–∏ –Ω–µ—Ç, –¥–æ–±–∞–≤—å—Ç–µ:
INSERT INTO admin_roles (user_id, role) VALUES ('–≤–∞—à_uuid', 'owner');
```

### –¢–∞–±–ª–∏—Ü—ã –Ω–µ —Å–æ–∑–¥–∞–Ω—ã

**–†–µ—à–µ–Ω–∏–µ:**
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã–ø–æ–ª–Ω–∏–ª–∏ –æ–±–µ –º–∏–≥—Ä–∞—Ü–∏–∏ (005 –∏ 006)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—à–∏–±–∫–∏ –≤ SQL Editor
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü

### API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 404

**–†–µ—à–µ–Ω–∏–µ:**
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ dev —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—É—Ç—å: `/api/admin/...`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ

### –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ø—É–±–ª–∏—á–Ω–æ –¥–æ—Å—Ç—É–ø–Ω—ã
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS —Å—Å—ã–ª–∫–∏
- –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ placeholder —Å–µ—Ä–≤–∏—Å—ã

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](ADMIN_PANEL.md)
- [–ü—Ä–∏–º–µ—Ä—ã API](API_EXAMPLES.md)
- [SQL —Å–∫—Ä–∏–ø—Ç—ã](scripts/)

---

## üí¨ –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ (`pnpm dev`)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Supabase
4. –°–æ–∑–¥–∞–π—Ç–µ Issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

---

**–í—Ä–µ–º—è –Ω–∞ –ø–æ–ª–Ω—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É: ~20 –º–∏–Ω—É—Ç** ‚ö°
