# โ Email Verification - ะะพัะพะฒะพ ะบ ะธัะฟะพะปัะทะพะฒะฐะฝะธั!

## ๐ฏ ะงัะพ ะฝะฐัััะพะตะฝะพ

### 1. Backend (100% ะณะพัะพะฒ)
- โ Prisma ััะตะผะฐ ะพะฑะฝะพะฒะปะตะฝะฐ (emailVerified, verificationToken, verificationTokenExpiry)
- โ Email ััะธะปะธัั ะฒ `lib/email.ts` (ะณะตะฝะตัะฐัะธั ัะพะบะตะฝะพะฒ, ะพัะฟัะฐะฒะบะฐ)
- โ API endpoint `/api/auth/verify-email` ะดะปั ะฟะพะดัะฒะตัะถะดะตะฝะธั
- โ ะะตะณะธัััะฐัะธั ะพัะฟัะฐะฒะปัะตั ะฟะธััะผะพ ั ัะพะบะตะฝะพะผ
- โ ะะพะณะธะฝ ะฟะพะบะฐะทัะฒะฐะตั ััะฐััั ะฒะตัะธัะธะบะฐัะธะธ

### 2. Email (Resend ะธะฝัะตะณัะธัะพะฒะฐะฝ)
- โ API ะบะปัั: `re_2iSZ6gm4_JgP2f36tN9NzNiFSzJSUDSQA`
- โ ะัะฟัะฐะฒะธัะตะปั: `Qora NFT <onboarding@resend.dev>`
- โ ะัะฐัะธะฒัะน HTML ัะฐะฑะปะพะฝ ะฒ ััะธะปะต Qora NFT
- โ 24-ัะฐัะพะฒะพะน ัะพะบะตะฝ ะฒะตัะธัะธะบะฐัะธะธ

### 3. ะะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั
```env
RESEND_API_KEY="re_2iSZ6gm4_JgP2f36tN9NzNiFSzJSUDSQA"
EMAIL_FROM="Qora NFT <onboarding@resend.dev>"
NEXT_PUBLIC_APP_URL="https://ora-app-token-production.up.railway.app"
```

---

## ๐ ะะตะฟะปะพะน ะฝะฐ Railway

### ะะฐัะธะฐะฝั 1: Railway Dashboard (ัะตะบะพะผะตะฝะดัะตััั)

1. ะัะบัะพะนัะต **[Railway Dashboard](https://railway.app/dashboard)**
2. ะัะฑะตัะธัะต ะฟัะพะตะบั **`ora-app-token-production`**
3. ะะตัะตะนะดะธัะต ะฒ **Variables**
4. ะะพะฑะฐะฒััะต 3 ะฟะตัะตะผะตะฝะฝัะต (ัะผ. ะฒััะต)
5. Railway ะฐะฒัะพะผะฐัะธัะตัะบะธ ะฟะตัะตะดะตะฟะปะพะธั

### ะะฐัะธะฐะฝั 2: Railway CLI

```bash
# ะะพะดะบะปััะธัะตัั ะบ ะฟัะพะตะบัั
railway link

# ะะพะฑะฐะฒััะต ะฟะตัะตะผะตะฝะฝัะต
railway variables set RESEND_API_KEY="re_2iSZ6gm4_JgP2f36tN9NzNiFSzJSUDSQA"
railway variables set EMAIL_FROM="Qora NFT <onboarding@resend.dev>"
railway variables set NEXT_PUBLIC_APP_URL="https://ora-app-token-production.up.railway.app"

# ะะฐะดะตะฟะปะพะนัะต
railway up
```

### ะะฐัะธะฐะฝั 3: ะะฒัะพะผะฐัะธัะตัะบะธะน ัะบัะธะฟั

```bash
./scripts/setup-railway-env.sh
```

---

## โ ะัะพะฒะตัะบะฐ ัะฐะฑะพัั

ะะพัะปะต ะดะตะฟะปะพั:

1. **ะัะบัะพะนัะต**: https://ora-app-token-production.up.railway.app/register
2. **ะะฐัะตะณะธัััะธััะนัะตัั** ั ัะตะฐะปัะฝัะผ email
3. **ะัะพะฒะตัััะต ะฟะพััั** (ะฒะบะปััะฐั ัะฟะฐะผ)
4. **ะะฐะถะผะธัะต** ะบะฝะพะฟะบั "โ ะะพะดัะฒะตัะดะธัั email"
5. **ะฃะฒะธะดะธัะต** ะทะตะปัะฝะพะต ัะพะพะฑัะตะฝะธะต ะฝะฐ ัััะฐะฝะธัะต ะปะพะณะธะฝะฐ

---

## ๐ง ะขะตััะพะฒัะน email

**zilolatashievaz@gmail.com** - ะผะพะถะตัะต ะธัะฟะพะปัะทะพะฒะฐัั ะดะปั ัะตััะฐ

---

## ๐ ะัะปะฐะดะบะฐ

### ะัะพะฒะตัะบะฐ ะปะพะณะพะฒ
```bash
railway logs
```

ะัะธัะต:
- `โ Verification email sent to ...` - ััะฟะตั
- `โ Failed to send verification email` - ะพัะธะฑะบะฐ

### ะัะพะฒะตัะบะฐ ะฒ Resend Dashboard
https://resend.com/emails - ะฒัะต ะพัะฟัะฐะฒะปะตะฝะฝัะต ะฟะธััะผะฐ

### ะขะธะฟะธัะฝัะต ะฟัะพะฑะปะตะผั

โ **ะะธััะผะฐ ะฝะต ะฟัะธัะพะดัั**
- ะัะพะฒะตัััะต ัะฟะฐะผ/ะฟัะพะผะพะฐะบัะธะธ
- ะฃะฑะตะดะธัะตัั, ััะพ API ะบะปัั ะฟัะฐะฒะธะปัะฝะพ ะฒััะฐะฒะปะตะฝ
- ะัะพะฒะตัััะต ะปะธะผะธั (100 ะฟะธัะตะผ/ะดะตะฝั ะฝะฐ Free ะฟะปะฐะฝะต)

โ **Invalid API Key**
- ะะตัะตะทะฐะฟัััะธัะต ัะตัะฒะตั ะฟะพัะปะต ะธะทะผะตะฝะตะฝะธั `.env`
- ะฃะฑะตะดะธัะตัั, ััะพ ะฝะตั ะฟัะพะฑะตะปะพะฒ ะฒ ะบะปััะต

โ **ะกััะปะบะฐ ะฝะต ัะฐะฑะพัะฐะตั**
- ะัะพะฒะตัััะต, ััะพ `NEXT_PUBLIC_APP_URL` ะฟัะฐะฒะธะปัะฝัะน
- ะขะพะบะตะฝ ะดะตะนััะฒะธัะตะปะตะฝ ัะพะปัะบะพ 24 ัะฐัะฐ

---

## ๐ ะกัััะบัััะฐ ะฟะธััะผะฐ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ   ๐ Qora NFT (ะณัะฐะดะธะตะฝัะฝัะน ะปะพะณะพ)โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                 โ
โ   ะะพะดัะฒะตัะดะธัะต ะฒะฐั email         โ
โ                                 โ
โ   ะกะฟะฐัะธะฑะพ ะทะฐ ัะตะณะธัััะฐัะธั...     โ
โ                                 โ
โ   โโโโโโโโโโโโโโโโโโโโโโโโ      โ
โ   โ โ ะะพะดัะฒะตัะดะธัั email โ      โ
โ   โโโโโโโโโโโโโโโโโโโโโโโโ      โ
โ                                 โ
โ   ะกััะปะบะฐ (ะตัะปะธ ะบะฝะพะฟะบะฐ ะฝะต ัะฐะฑะพัะฐะตั)โ
โ                                 โ
โ   โ๏ธ ะะตะนััะฒะธัะตะปัะฝะฐ 24 ัะฐัะฐ      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ   ยฉ 2025 Qora NFT               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ ะคะฐะนะปั

- `lib/email.ts` - email ััะธะปะธัั
- `app/api/auth/verify-email/route.ts` - endpoint ะฒะตัะธัะธะบะฐัะธะธ
- `app/api/auth/register/route.ts` - ะพัะฟัะฐะฒะบะฐ ะฟัะธ ัะตะณะธัััะฐัะธะธ
- `app/login/page.tsx` - ะพัะพะฑัะฐะถะตะฝะธะต ััะฐัััะฐ
- `prisma/schema.prisma` - ััะตะผะฐ ะะ

---

## ๐ฏ ะกะปะตะดัััะธะต ัะฐะณะธ (ะพะฟัะธะพะฝะฐะปัะฝะพ)

1. **ะะฐััะพะผะฝัะน ะดะพะผะตะฝ** - ะฝะฐัััะพะนัะต ะฒ Resend ะดะปั `noreply@yourdomain.com`
2. **ะัะธะฝัะดะธัะตะปัะฝะฐั ะฒะตัะธัะธะบะฐัะธั** - ะดะพะฑะฐะฒััะต ะฟัะพะฒะตัะบั ะฒ `/api/auth/login`
3. **ะะพะฒัะพัะฝะฐั ะพัะฟัะฐะฒะบะฐ** - endpoint ะดะปั resend ะฟะธััะผะฐ
4. **ะฃะฒะตะดะพะผะปะตะฝะธั** - email ะฟัะธ ะฒะฐะถะฝัั ัะพะฑััะธัั (ัะตะบะธะฝ, ะฟะพะบัะฟะบะฐ ะธ ั.ะด.)

---

## ๐ ะะตะทะพะฟะฐัะฝะพััั

โ๏ธ API ะบะปัั ัะถะต ะฒ ัะตะฟะพะทะธัะพัะธะธ. ะะปั production:

1. ะกะพะทะดะฐะนัะต ะฝะพะฒัะน API ะบะปัั ะฒ Resend
2. ะฃะดะฐะปะธัะต ััะฐััะน ะบะปัั
3. ะะฑะฝะพะฒะธัะต ะฒ Railway ัะตัะตะท Variables

---

## ๐ ะะพัะพะฒะพ!

ะกะธััะตะผะฐ ะฒะตัะธัะธะบะฐัะธะธ email ะฟะพะปะฝะพัััั ะณะพัะพะฒะฐ ะบ ะธัะฟะพะปัะทะพะฒะฐะฝะธั. ะะพัะปะต ะดะพะฑะฐะฒะปะตะฝะธั ะฟะตัะตะผะตะฝะฝัั ะฒ Railway ะฒัั ะฑัะดะตั ัะฐะฑะพัะฐัั ะฐะฒัะพะผะฐัะธัะตัะบะธ!
