# –°–∏—Å—Ç–µ–º–∞ —Ç–æ—á–µ–∫ —Å–ø–∞–≤–Ω–∞ –∏ —á–µ–∫–∏–Ω–∞

## ‚úÖ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:

### 1. **API –¥–ª—è —Ç–æ—á–µ–∫ —Å–ø–∞–≤–Ω–∞**

#### `GET /api/spawn-points`
–ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ç–æ—á–µ–∫ —Å–ø–∞–≤–Ω–∞
```json
[
  {
    "id": "uuid",
    "lat": 42.8746,
    "lng": 74.5698,
    "fragment": "A",
    "rarity": "rare",
    "name": "–ö–∞—Ä—Ç–æ—á–∫–∞ –Ω–∞–∑–≤–∞–Ω–∏–µ",
    "available": true,
    "radius": 5,
    "shardId": "uuid",
    "imageUrl": "/elements/shard-1.png"
  }
]
```

#### `POST /api/checkin`
–ß–µ–∫–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ —Ç–æ—á–∫–µ —Å–ø–∞–≤–Ω–∞
```json
{
  "spawnPointId": "uuid",
  "userLat": 42.8746,
  "userLng": 74.5698,
  "accuracy": 10
}
```

**–û—Ç–≤–µ—Ç –ø—Ä–∏ —É—Å–ø–µ—Ö–µ:**
```json
{
  "success": true,
  "message": "–û—Å–∫–æ–ª–æ–∫ —É—Å–ø–µ—à–Ω–æ —Å–æ–±—Ä–∞–Ω!",
  "shard": {
    "id": "uuid",
    "label": "A",
    "cardName": "–ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏",
    "imageUrl": "/elements/shard-1.png",
    "collectedAt": "2025-10-28T..."
  }
}
```

**–û—à–∏–±–∫–∏:**
- `Too far from spawn point` - —Å–ª–∏—à–∫–æ–º –¥–∞–ª–µ–∫–æ
- `GPS accuracy too low` - —Ç–æ—á–Ω–æ—Å—Ç—å GPS < 50–º
- `Already collected` - —É–∂–µ —Å–æ–±—Ä–∞–Ω–æ
- `Spawn point has expired` - —Ç–æ—á–∫–∞ –∏—Å—Ç–µ–∫–ª–∞

### 2. **API –¥–ª—è –∞–¥–º–∏–Ω–∞**

#### `POST /api/admin/spawn-points/create`
–°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ—á–∫–∏ —Å–ø–∞–≤–Ω–∞ (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤)
```json
{
  "shardId": "uuid",
  "latitude": 42.8746,
  "longitude": 74.5698,
  "radius": 5,
  "expiresAt": "2025-12-31T23:59:59Z" // –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
}
```

#### `GET /api/admin/shards`
–ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –æ—Å–∫–æ–ª–∫–æ–≤ –¥–ª—è –≤—ã–±–æ—Ä–∞

### 3. **–°—Ç—Ä–∞–Ω–∏—Ü—ã**

#### `/map` - –ö–∞—Ä—Ç–∞ —Å —Ç–æ—á–∫–∞–º–∏ —Å–ø–∞–≤–Ω–∞
- –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–æ—á–µ–∫ —Å–ø–∞–≤–Ω–∞ –∏–∑ –ë–î
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ –∫–∞—Ä—Ç–µ
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏
- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —á–µ–∫–∏–Ω–∞
- –ü—Ä–æ–≥—Ä–µ—Å—Å –±–∞—Ä (3 —Å–µ–∫—É–Ω–¥—ã —É–¥–µ—Ä–∂–∞–Ω–∏—è)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

#### `/admin/spawn-points` - –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
- –í—ã–±–æ—Ä –æ—Å–∫–æ–ª–∫–∞ –∏–∑ —Å–ø–∏—Å–∫–∞
- –ö–ª–∏–∫ –Ω–∞ –∫–∞—Ä—Ç—É –¥–ª—è –≤—ã–±–æ—Ä–∞ –º–µ—Å—Ç–∞
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞–¥–∏—É—Å–∞
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è

### 4. **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**

#### `CheckinModal`
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –¥–æ —Ç–æ—á–∫–∏
- –ü—Ä–æ–≥—Ä–µ—Å—Å –±–∞—Ä —É–¥–µ—Ä–∂–∞–Ω–∏—è
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

## üìä –°—Ö–µ–º–∞ –ë–î

```prisma
model SpawnPoint {
  id          String   @id @default(uuid())
  shardId     String
  latitude    Float
  longitude   Float
  radius      Float    @default(5)
  active      Boolean  @default(true)
  expiresAt   DateTime?
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  
  shard       Shard    @relation(...)
}

model UserShard {
  id            String   @id @default(uuid())
  userId        String
  shardId       String
  collectedAt   DateTime @default(now())
  used          Boolean  @default(false)
  
  user          User     @relation(...)
  shard         Shard    @relation(...)
}
```

## üéÆ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
1. –û—Ç–∫—Ä—ã—Ç—å `/map`
2. –†–∞–∑—Ä–µ—à–∏—Ç—å –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é
3. –£–≤–∏–¥–µ—Ç—å —Ç–æ—á–∫–∏ —Å–ø–∞–≤–Ω–∞ –Ω–∞ –∫–∞—Ä—Ç–µ (—É–≤–µ–ª–∏—á–µ–Ω–Ω—ã–µ –æ—Å–∫–æ–ª–∫–∏ 80px)
4. –ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ –æ—Å–∫–æ–ª–æ–∫
5. –ù–∞–∂–∞—Ç—å "–ù–∞—á–∞—Ç—å —á–µ–∫–∏–Ω"
6. –£–¥–µ—Ä–∂–∏–≤–∞—Ç—å 3 —Å–µ–∫—É–Ω–¥—ã –≤ —Ä–∞–¥–∏—É—Å–µ 5–º
7. –û—Å–∫–æ–ª–æ–∫ –¥–æ–±–∞–≤–∏—Ç—Å—è –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å

### –î–ª—è –∞–¥–º–∏–Ω–æ–≤:
1. –û—Ç–∫—Ä—ã—Ç—å `/admin/spawn-points`
2. –í—ã–±—Ä–∞—Ç—å –æ—Å–∫–æ–ª–æ–∫ (A, B, C)
3. –ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ –∫–∞—Ä—Ç—É
4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–∞–¥–∏—É—Å –∏ —Å—Ä–æ–∫
5. –°–æ–∑–¥–∞—Ç—å —Ç–æ—á–∫—É —Å–ø–∞–≤–Ω–∞

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏

–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
```env
DATABASE_URL="postgresql://..."
JWT_SECRET="your-secret"
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ** - –Ω–µ–ª—å–∑—è –æ–±–º–∞–Ω—É—Ç—å
2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ—á–Ω–æ—Å—Ç–∏ GPS** - –º–∞–∫—Å–∏–º—É–º 50–º
3. **–ó–∞—â–∏—Ç–∞ –æ—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ —Å–±–æ—Ä–∞** - –æ–¥–∏–Ω –æ—Å–∫–æ–ª–æ–∫ –æ–¥–∏–Ω —Ä–∞–∑
4. **–ê–¥–º–∏–Ω-–ø—Ä–∞–≤–∞** - —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω—ã –º–æ–≥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ç–æ—á–∫–∏
5. **Audit log** - –≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –∞–¥–º–∏–Ω–æ–≤ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

- [ ] –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
- [ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö —Ç–æ—á–∫–∞—Ö —Å–ø–∞–≤–Ω–∞
- [ ] –ò—Å—Ç–æ—Ä–∏—è —á–µ–∫–∏–Ω–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- [ ] –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Ç–æ—á–∫–∞–º —Å–ø–∞–≤–Ω–∞
- [ ] Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏–∏
- [ ] –¢–∞–π–º–µ—Ä –¥–æ –∏—Å—Ç–µ—á–µ–Ω–∏—è —Ç–æ—á–∫–∏ —Å–ø–∞–≤–Ω–∞
